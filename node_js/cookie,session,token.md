# cookie, session, token의 차이점

# 계정 정보를 요청 Header에 넣는 방식


-   이렇게 하면 절대 안된다!!!
-   앱에서 서버로 http 요청을 할때 따로 암호화를 하지 않으므로 해커가 http 요청을 가로채(intercept)서 사용자의 계정 정보를 알수 있다.

#   Session / Cookie 방식

-   Session / Cookie 방식 인증은 기본적으로 세션 저장소를 필요로 한다
-   세션 저장소는 로그인시 사용자 정보를 저장하고 열쇠로 사용할 수 있는 세션ID를 만든다. 그리고 그걸 HTTP 헤더에 실어 클라이언트에 보낸다.
-   브라우저는 세션 ID를 포함하는 쿠키를 저장하고 있다.
- 인증이 필요한 요청에 해당 쿠키를 끼워 서버에 request를 보낸다. 

##  인증 절차

    1. 사용자가 로그인
    2. 서버에서는 계정 정보를 읽어 사용자를 확인후 사용자의 고유 id 값을 부여한 후 세션 장소에 저장하고 이와 연결되는 세션 ID를 발행한다.
    3. 클라이언트는 서버에서 해당 세션 id 를 받아 쿠키에 저장 한 후 인증이 필요한 요청마다 쿠키를 헤더에 끼워 보낸다,.
    4. 서버에는 쿠키를 받아 세션 저장소에서 확인후, 일치하는 정보를 가져온다.
    5. 인증이 완료되고 서버는 사용자에 맞는 데이터를 보내준다.

# session 과 cookie의 차이점
    session : 서버에서 가지고 있는 정보
    cookie : 서버에서 발급된 세션을 열기 위한 키 값(세션 ID 라고함)
    쿠키만으로 인증을 한다는 것은 서버의 자원을 사용하지 않는것.
    클라이언트가 인증 정보를 책임지는 것을 의미한다.
    